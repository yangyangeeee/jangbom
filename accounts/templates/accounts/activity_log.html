{% load static humanize %}
<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="{% static 'style.css' %}" />
    <link rel="stylesheet" href="{% static 'css/activity_log.css' %}" />
    <title>activity_log(내 활동)</title>
  </head>
  <body>
    <div class="container">
      <div class="box">
        <!--상단바-->
        <div class="status-bar">
          <p>19:20</p>
          <div class="status1">
            <img
              class="status2"
              src="{% static 'img/reception.svg' %}"
              alt="reception"
            />
            <img class="status2" src="{% static 'img/wifi.svg' %}" alt="wifi" />
            <img
              class="status2"
              src="{% static 'img/battery.svg' %}"
              alt="battery"
            />
          </div>
        </div>

        <!--앱 자체 상단바-->
        <div class="app-top-bar">
          <a href="javascript:history.back()" aria-label="뒤로">
            <img
              class="top-back"
              src="{% static 'img/chevron-left(gray).svg' %}"
              alt="back"
            />
          </a>
          <div class="top-point">
            <a href="{% url 'food:cart_view' %}" class="basket-container">
                {% if cart_items_count == 0 %}
                    <img src="{% static 'img/basket.svg' %}" class="basket" alt="basket">
                    <span class="basket-count">{{ cart_items_count }}</span>
                {% else %}
                    <img src="{% static 'img/basket.svg' %}" class="basket" alt="basket">
                    <span class="basket-count">{{ cart_items_count }}</span>
                {% endif %}
            </a>
            <a
              href="{% url 'point:barcode' %}"
              class="barcode-link"
              style="margin-left: 8px"
            >
              <img
                class="point"
                src="{% static 'img/lucide.svg' %}"
                alt="바코드"
            /></a>
            <p class="mypoint">{{ total_point|default:0|intcomma }} P</p>
          </div>
        </div>

        <main class="app-body">
          <div class="myactivity-log">
            <h3>내 활동 내역</h3>

            <div class="my-profile">
              <div class="profile-pic"></div>
              <div>
                <span class="nickname"
                  >{{ user.nickname|default:user.username }}</span
                >
                <p>{{ user.addr_level3|default:"" }}</p>
              </div>
            </div>

            <div class="perchase-set">
              <div class="n-perchase-num">
                <p class="n-perchase2">장봄 횟수</p>
                <p class="n-perchase3">{{ total_logs|default:0 }}회</p>
              </div>
              <div class="n-perchase-num">
                <p class="n-perchase2">누적 걸음 수</p>
                <p class="n-perchase3">
                  {{ total_steps|default:0|intcomma }} 걸음
                </p>
              </div>
            </div>

            <div class="CO2-set">
              <div class="n-CO2-num">
                <p class="n-CO2">랭킹</p>
                <p class="n-CO23">
                  {% if user_rank %}#{{ user_rank }}{% else %}-{% endif %}
                </p>
              </div>
              <div class="n-CO2-num">
                <p class="n-CO2">CO₂ 절감량</p>
                <p class="n-CO23">
                  {{ co2_saved_kg|default:0|floatformat:1 }} kg
                </p>
              </div>
            </div>
          </div>

          <div class="more-function">
            <a
              class="more-function-item"
              href="{% url 'accounts:my_recipes' %}"
            >
              <div class="more-function-item2">
                <span class="function-name">요리법 보관함</span>
                <img src="{% static 'img/chevron-right.svg' %}" alt="" />
              </div>
            </a>

            <a
              class="more-function-item"
              href="{% url 'accounts:activity_history' %}"
            >
              <div class="more-function-item2">
                <span class="function-name">세부 활동 내역</span>
                <img src="{% static 'img/chevron-right.svg' %}" alt="" />
              </div>
            </a>
          </div>
        </main>

        <!--앱 자체 상단바-->
        <div class="bottom-nav">
          <a class="bottom-nav-item" href="{% url 'food:main' %}">
            <img src="{% static 'img/house(gray).svg' %}" alt="홈" />
            <span class="bottom-nav-item-title">홈</span>
          </a>
          <a class="bottom-nav-item" href="{% url 'accounts:activity_log' %}">
            <img src="{% static 'img/footprints.svg' %}" alt="내 활동" />
            <span class="bottom-nav-item-title" style="color:black">내 활동</span>
          </a>
          <a class="bottom-nav-item" href="{% url 'point:point_home' %}">
            <img src="{% static 'img/point(gray).svg' %}" alt="포인트" />
            <span class="bottom-nav-item-title">포인트</span>
          </a>
        </div>
      </div>
    </div>
  </body>
</html>
